var fs=require("fs"),uglifyjs=require("uglify-js");module.exports=function(e){var t={langs:{src:["min/langs.js"],dest:"min/langs.min.js"}};fs.readdirSync("./lang").forEach(function(e){e.indexOf(".js")>-1&&(t[e]={src:["lang/"+e],dest:"min/lang/"+e})}),e.initConfig({concatlang:{langs:{src:["lang/*.js"],dest:"min/langs.js"}},minlang:t,minwithcomments:{moment:{src:["moment.js"],dest:"min/moment.min.js"}},uglify:{mangle:{toplevel:!0},squeeze:{dead_code:!1},codegen:{ascii_only:!0}},test:{files:["test/**/*.js"]},lint:{files:["moment.js","lang/**/*.js"]},jshint:{options:{node:!0,es5:!0,browser:!0,boss:!1,curly:!0,debug:!1,devel:!1,eqeqeq:!0,eqnull:!0,evil:!1,forin:!1,immed:!1,laxbreak:!1,newcap:!0,noarg:!0,noempty:!1,nonew:!1,onevar:!0,plusplus:!1,regexp:!1,undef:!0,sub:!0,strict:!1,white:!0}},watch:{test:{files:["moment.js","lang/*.js","test/**/*.js"],tasks:"test"},lint:{files:"<config:lint.files>",tasks:"lint"}}}),e.loadTasks("tasks"),e.registerTask("default","lint test"),e.registerTask("release","lint test minwithcomments concatlang minlang")};